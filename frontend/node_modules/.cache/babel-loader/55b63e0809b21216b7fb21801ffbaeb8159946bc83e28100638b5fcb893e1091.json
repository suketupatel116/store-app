{"ast":null,"code":"import { useIsomorphicLayoutEffect } from '@fluentui/react-utilities';\nimport * as React from 'react';\n/**\n * @internal\n * This hook returns context selected value by selector.\n * It will only accept context created by `createContext`.\n * It will trigger re-render if only the selected value is referentially changed.\n */\nexport const useContextSelector = (context, selector) => {\n  const contextValue = React.useContext(context);\n  const {\n    value: {\n      current: value\n    },\n    version: {\n      current: version\n    },\n    listeners\n  } = contextValue;\n  const selected = selector(value);\n  const [state, dispatch] = React.useReducer((prevState, payload) => {\n    if (!payload) {\n      // early bail out when is dispatched during render\n      return [value, selected];\n    }\n    if (payload[0] <= version) {\n      if (objectIs(prevState[1], selected)) {\n        return prevState; // bail out\n      }\n\n      return [value, selected];\n    }\n    try {\n      if (objectIs(prevState[0], payload[1])) {\n        return prevState; // do not update\n      }\n\n      const nextSelected = selector(payload[1]);\n      if (objectIs(prevState[1], nextSelected)) {\n        return prevState; // do not update\n      }\n\n      return [payload[1], nextSelected];\n    } catch (e) {\n      // ignored (stale props or some other reason)\n    }\n    // explicitly spread to enforce typing\n    return [prevState[0], prevState[1]]; // schedule update\n  }, [value, selected]);\n  if (!objectIs(state[1], selected)) {\n    // schedule re-render\n    // this is safe because it's self contained\n    dispatch(undefined);\n  }\n  useIsomorphicLayoutEffect(() => {\n    listeners.push(dispatch);\n    return () => {\n      const index = listeners.indexOf(dispatch);\n      listeners.splice(index, 1);\n    };\n  }, [listeners]);\n  return state[1];\n};\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst objectIs =\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore fallback to native if it exists (not in IE11)\ntypeof Object.is === 'function' ? Object.is : is;","map":{"version":3,"names":["useIsomorphicLayoutEffect","React","useContextSelector","context","selector","contextValue","useContext","value","current","version","listeners","selected","state","dispatch","useReducer","prevState","payload","objectIs","nextSelected","e","undefined","push","index","indexOf","splice","is","x","y","Object"],"sources":["/Users/suketupatel/Desktop/application/frontend/node_modules/@fluentui/react-context-selector/lib/useContextSelector.js"],"sourcesContent":["import { useIsomorphicLayoutEffect } from '@fluentui/react-utilities';\nimport * as React from 'react';\n/**\n * @internal\n * This hook returns context selected value by selector.\n * It will only accept context created by `createContext`.\n * It will trigger re-render if only the selected value is referentially changed.\n */ export const useContextSelector = (context, selector)=>{\n    const contextValue = React.useContext(context);\n    const { value: { current: value  } , version: { current: version  } , listeners  } = contextValue;\n    const selected = selector(value);\n    const [state, dispatch] = React.useReducer((prevState, payload)=>{\n        if (!payload) {\n            // early bail out when is dispatched during render\n            return [\n                value,\n                selected\n            ];\n        }\n        if (payload[0] <= version) {\n            if (objectIs(prevState[1], selected)) {\n                return prevState; // bail out\n            }\n            return [\n                value,\n                selected\n            ];\n        }\n        try {\n            if (objectIs(prevState[0], payload[1])) {\n                return prevState; // do not update\n            }\n            const nextSelected = selector(payload[1]);\n            if (objectIs(prevState[1], nextSelected)) {\n                return prevState; // do not update\n            }\n            return [\n                payload[1],\n                nextSelected\n            ];\n        } catch (e) {\n        // ignored (stale props or some other reason)\n        }\n        // explicitly spread to enforce typing\n        return [\n            prevState[0],\n            prevState[1]\n        ]; // schedule update\n    }, [\n        value,\n        selected\n    ]);\n    if (!objectIs(state[1], selected)) {\n        // schedule re-render\n        // this is safe because it's self contained\n        dispatch(undefined);\n    }\n    useIsomorphicLayoutEffect(()=>{\n        listeners.push(dispatch);\n        return ()=>{\n            const index = listeners.indexOf(dispatch);\n            listeners.splice(index, 1);\n        };\n    }, [\n        listeners\n    ]);\n    return state[1];\n};\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction is(x, y) {\n    return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n    ;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst objectIs = // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore fallback to native if it exists (not in IE11)\ntypeof Object.is === 'function' ? Object.is : is;\n"],"mappings":"AAAA,SAASA,yBAAyB,QAAQ,2BAA2B;AACrE,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AAAI,OAAO,MAAMC,kBAAkB,GAAGA,CAACC,OAAO,EAAEC,QAAQ,KAAG;EACvD,MAAMC,YAAY,GAAGJ,KAAK,CAACK,UAAU,CAACH,OAAO,CAAC;EAC9C,MAAM;IAAEI,KAAK,EAAE;MAAEC,OAAO,EAAED;IAAO,CAAC;IAAGE,OAAO,EAAE;MAAED,OAAO,EAAEC;IAAS,CAAC;IAAGC;EAAW,CAAC,GAAGL,YAAY;EACjG,MAAMM,QAAQ,GAAGP,QAAQ,CAACG,KAAK,CAAC;EAChC,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,KAAK,CAACa,UAAU,CAAC,CAACC,SAAS,EAAEC,OAAO,KAAG;IAC7D,IAAI,CAACA,OAAO,EAAE;MACV;MACA,OAAO,CACHT,KAAK,EACLI,QAAQ,CACX;IACL;IACA,IAAIK,OAAO,CAAC,CAAC,CAAC,IAAIP,OAAO,EAAE;MACvB,IAAIQ,QAAQ,CAACF,SAAS,CAAC,CAAC,CAAC,EAAEJ,QAAQ,CAAC,EAAE;QAClC,OAAOI,SAAS,CAAC,CAAC;MACtB;;MACA,OAAO,CACHR,KAAK,EACLI,QAAQ,CACX;IACL;IACA,IAAI;MACA,IAAIM,QAAQ,CAACF,SAAS,CAAC,CAAC,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;QACpC,OAAOD,SAAS,CAAC,CAAC;MACtB;;MACA,MAAMG,YAAY,GAAGd,QAAQ,CAACY,OAAO,CAAC,CAAC,CAAC,CAAC;MACzC,IAAIC,QAAQ,CAACF,SAAS,CAAC,CAAC,CAAC,EAAEG,YAAY,CAAC,EAAE;QACtC,OAAOH,SAAS,CAAC,CAAC;MACtB;;MACA,OAAO,CACHC,OAAO,CAAC,CAAC,CAAC,EACVE,YAAY,CACf;IACL,CAAC,CAAC,OAAOC,CAAC,EAAE;MACZ;IAAA;IAEA;IACA,OAAO,CACHJ,SAAS,CAAC,CAAC,CAAC,EACZA,SAAS,CAAC,CAAC,CAAC,CACf,CAAC,CAAC;EACP,CAAC,EAAE,CACCR,KAAK,EACLI,QAAQ,CACX,CAAC;EACF,IAAI,CAACM,QAAQ,CAACL,KAAK,CAAC,CAAC,CAAC,EAAED,QAAQ,CAAC,EAAE;IAC/B;IACA;IACAE,QAAQ,CAACO,SAAS,CAAC;EACvB;EACApB,yBAAyB,CAAC,MAAI;IAC1BU,SAAS,CAACW,IAAI,CAACR,QAAQ,CAAC;IACxB,OAAO,MAAI;MACP,MAAMS,KAAK,GAAGZ,SAAS,CAACa,OAAO,CAACV,QAAQ,CAAC;MACzCH,SAAS,CAACc,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC9B,CAAC;EACL,CAAC,EAAE,CACCZ,SAAS,CACZ,CAAC;EACF,OAAOE,KAAK,CAAC,CAAC,CAAC;AACnB,CAAC;AACD;AACA;AACA;AACA,GAHA,CAGI;AACJ,SAASa,EAAEA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACd,OAAOD,CAAC,KAAKC,CAAC,KAAKD,CAAC,KAAK,CAAC,IAAI,CAAC,GAAGA,CAAC,KAAK,CAAC,GAAGC,CAAC,CAAC,IAAID,CAAC,KAAKA,CAAC,IAAIC,CAAC,KAAKA,CAAC,CAAC;EAAA;AAEzE;AACA;AACA,MAAMV,QAAQ;AAAG;AACjB;AACA,OAAOW,MAAM,CAACH,EAAE,KAAK,UAAU,GAAGG,MAAM,CAACH,EAAE,GAAGA,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}