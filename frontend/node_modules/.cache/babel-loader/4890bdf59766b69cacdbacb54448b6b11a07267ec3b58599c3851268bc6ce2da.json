{"ast":null,"code":"import { useIsomorphicLayoutEffect } from '@fluentui/react-utilities';\nimport * as React from 'react';\nimport { unstable_NormalPriority as NormalPriority, unstable_runWithPriority as runWithPriority } from 'scheduler';\nconst createProvider = Original => {\n  const Provider = props => {\n    // Holds an actual \"props.value\"\n    const valueRef = React.useRef(props.value);\n    // Used to sync context updates and avoid stale values, can be considered as render/effect counter of Provider.\n    const versionRef = React.useRef(0);\n    // A stable object, is used to avoid context updates via mutation of its values.\n    const contextValue = React.useRef();\n    if (!contextValue.current) {\n      contextValue.current = {\n        value: valueRef,\n        version: versionRef,\n        listeners: []\n      };\n    }\n    useIsomorphicLayoutEffect(() => {\n      valueRef.current = props.value;\n      versionRef.current += 1;\n      runWithPriority(NormalPriority, () => {\n        contextValue.current.listeners.forEach(listener => {\n          listener([versionRef.current, props.value]);\n        });\n      });\n    }, [props.value]);\n    return React.createElement(Original, {\n      value: contextValue.current\n    }, props.children);\n  };\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    Provider.displayName = 'ContextSelector.Provider';\n  }\n  return Provider;\n};\n/**\n * @internal\n */\nexport const createContext = defaultValue => {\n  // eslint-disable-next-line @fluentui/no-context-default-value\n  const context = React.createContext({\n    value: {\n      current: defaultValue\n    },\n    version: {\n      current: -1\n    },\n    listeners: []\n  });\n  context.Provider = createProvider(context.Provider);\n  // We don't support Consumer API\n  delete context.Consumer;\n  return context;\n};","map":{"version":3,"names":["useIsomorphicLayoutEffect","React","unstable_NormalPriority","NormalPriority","unstable_runWithPriority","runWithPriority","createProvider","Original","Provider","props","valueRef","useRef","value","versionRef","contextValue","current","version","listeners","forEach","listener","createElement","children","process","env","NODE_ENV","displayName","createContext","defaultValue","context","Consumer"],"sources":["/Users/suketupatel/Desktop/application/frontend/node_modules/@fluentui/react-context-selector/lib/createContext.js"],"sourcesContent":["import { useIsomorphicLayoutEffect } from '@fluentui/react-utilities';\nimport * as React from 'react';\nimport { unstable_NormalPriority as NormalPriority, unstable_runWithPriority as runWithPriority } from 'scheduler';\nconst createProvider = (Original)=>{\n    const Provider = (props)=>{\n        // Holds an actual \"props.value\"\n        const valueRef = React.useRef(props.value);\n        // Used to sync context updates and avoid stale values, can be considered as render/effect counter of Provider.\n        const versionRef = React.useRef(0);\n        // A stable object, is used to avoid context updates via mutation of its values.\n        const contextValue = React.useRef();\n        if (!contextValue.current) {\n            contextValue.current = {\n                value: valueRef,\n                version: versionRef,\n                listeners: []\n            };\n        }\n        useIsomorphicLayoutEffect(()=>{\n            valueRef.current = props.value;\n            versionRef.current += 1;\n            runWithPriority(NormalPriority, ()=>{\n                contextValue.current.listeners.forEach((listener)=>{\n                    listener([\n                        versionRef.current,\n                        props.value\n                    ]);\n                });\n            });\n        }, [\n            props.value\n        ]);\n        return React.createElement(Original, {\n            value: contextValue.current\n        }, props.children);\n    };\n    /* istanbul ignore else */ if (process.env.NODE_ENV !== 'production') {\n        Provider.displayName = 'ContextSelector.Provider';\n    }\n    return Provider;\n};\n/**\n * @internal\n */ export const createContext = (defaultValue)=>{\n    // eslint-disable-next-line @fluentui/no-context-default-value\n    const context = React.createContext({\n        value: {\n            current: defaultValue\n        },\n        version: {\n            current: -1\n        },\n        listeners: []\n    });\n    context.Provider = createProvider(context.Provider);\n    // We don't support Consumer API\n    delete context.Consumer;\n    return context;\n};\n"],"mappings":"AAAA,SAASA,yBAAyB,QAAQ,2BAA2B;AACrE,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,uBAAuB,IAAIC,cAAc,EAAEC,wBAAwB,IAAIC,eAAe,QAAQ,WAAW;AAClH,MAAMC,cAAc,GAAIC,QAAQ,IAAG;EAC/B,MAAMC,QAAQ,GAAIC,KAAK,IAAG;IACtB;IACA,MAAMC,QAAQ,GAAGT,KAAK,CAACU,MAAM,CAACF,KAAK,CAACG,KAAK,CAAC;IAC1C;IACA,MAAMC,UAAU,GAAGZ,KAAK,CAACU,MAAM,CAAC,CAAC,CAAC;IAClC;IACA,MAAMG,YAAY,GAAGb,KAAK,CAACU,MAAM,CAAC,CAAC;IACnC,IAAI,CAACG,YAAY,CAACC,OAAO,EAAE;MACvBD,YAAY,CAACC,OAAO,GAAG;QACnBH,KAAK,EAAEF,QAAQ;QACfM,OAAO,EAAEH,UAAU;QACnBI,SAAS,EAAE;MACf,CAAC;IACL;IACAjB,yBAAyB,CAAC,MAAI;MAC1BU,QAAQ,CAACK,OAAO,GAAGN,KAAK,CAACG,KAAK;MAC9BC,UAAU,CAACE,OAAO,IAAI,CAAC;MACvBV,eAAe,CAACF,cAAc,EAAE,MAAI;QAChCW,YAAY,CAACC,OAAO,CAACE,SAAS,CAACC,OAAO,CAAEC,QAAQ,IAAG;UAC/CA,QAAQ,CAAC,CACLN,UAAU,CAACE,OAAO,EAClBN,KAAK,CAACG,KAAK,CACd,CAAC;QACN,CAAC,CAAC;MACN,CAAC,CAAC;IACN,CAAC,EAAE,CACCH,KAAK,CAACG,KAAK,CACd,CAAC;IACF,OAAOX,KAAK,CAACmB,aAAa,CAACb,QAAQ,EAAE;MACjCK,KAAK,EAAEE,YAAY,CAACC;IACxB,CAAC,EAAEN,KAAK,CAACY,QAAQ,CAAC;EACtB,CAAC;EACD;EAA2B,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IAClEhB,QAAQ,CAACiB,WAAW,GAAG,0BAA0B;EACrD;EACA,OAAOjB,QAAQ;AACnB,CAAC;AACD;AACA;AACA;AAAI,OAAO,MAAMkB,aAAa,GAAIC,YAAY,IAAG;EAC7C;EACA,MAAMC,OAAO,GAAG3B,KAAK,CAACyB,aAAa,CAAC;IAChCd,KAAK,EAAE;MACHG,OAAO,EAAEY;IACb,CAAC;IACDX,OAAO,EAAE;MACLD,OAAO,EAAE,CAAC;IACd,CAAC;IACDE,SAAS,EAAE;EACf,CAAC,CAAC;EACFW,OAAO,CAACpB,QAAQ,GAAGF,cAAc,CAACsB,OAAO,CAACpB,QAAQ,CAAC;EACnD;EACA,OAAOoB,OAAO,CAACC,QAAQ;EACvB,OAAOD,OAAO;AAClB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}