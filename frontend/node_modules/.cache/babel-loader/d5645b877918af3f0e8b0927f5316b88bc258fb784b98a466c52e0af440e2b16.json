{"ast":null,"code":"import * as React from 'react';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nimport { ArrowDown, ArrowRight, Escape, keyCodes, ArrowUp } from '@fluentui/keyboard-keys';\nimport { useArrowNavigationGroup, useFocusableGroup, useMergedTabsterAttributes_unstable, useFocusFinders } from '@fluentui/react-tabster';\nimport { isHTMLElement } from '@fluentui/react-utilities';\nexport function useTableCompositeNavigation() {\n  const horizontalAttr = useArrowNavigationGroup({\n    axis: 'horizontal'\n  });\n  const gridAttr = useArrowNavigationGroup({\n    axis: 'grid'\n  });\n  const groupperAttr = useFocusableGroup({\n    tabBehavior: 'limited-trap-focus'\n  });\n  const {\n    findFirstFocusable\n  } = useFocusFinders();\n  const {\n    targetDocument\n  } = useFluent();\n  const rowAttr = useMergedTabsterAttributes_unstable(horizontalAttr, groupperAttr);\n  const onKeyDown = React.useCallback(e => {\n    if (!targetDocument) {\n      return;\n    }\n    const activeElement = targetDocument.activeElement;\n    if (!activeElement || !e.currentTarget.contains(activeElement)) {\n      return;\n    }\n    const activeElementRole = activeElement.getAttribute('role');\n    // Enter groupper when in row focus mode to navigate cells\n    if (e.key === ArrowRight && activeElementRole === 'row' && isHTMLElement(activeElement)) {\n      var _findFirstFocusable;\n      (_findFirstFocusable = findFirstFocusable(activeElement)) === null || _findFirstFocusable === void 0 ? void 0 : _findFirstFocusable.focus();\n    }\n    if (activeElementRole === 'row') {\n      return;\n    }\n    const isInCell = (() => {\n      let cur = isHTMLElement(activeElement) ? activeElement : null;\n      while (cur) {\n        const curRole = cur.getAttribute('role');\n        if (curRole === 'cell' || curRole === 'gridcell') {\n          return true;\n        }\n        cur = cur.parentElement;\n      }\n      return false;\n    })();\n    // Escape groupper focus trap before arrow down\n    if ((e.key === ArrowDown || e.key === ArrowUp) && isInCell) {\n      activeElement.dispatchEvent(new KeyboardEvent('keydown', {\n        key: Escape,\n        keyCode: keyCodes.Escape\n      }));\n      // Tabster uses keycodes\n      // eslint-disable-next-line deprecation/deprecation\n      activeElement.dispatchEvent(new KeyboardEvent('keydown', {\n        key: e.key,\n        keyCode: e.keyCode\n      }));\n    }\n  }, [targetDocument, findFirstFocusable]);\n  return {\n    onTableKeyDown: onKeyDown,\n    tableTabsterAttribute: gridAttr,\n    tableRowTabsterAttribute: rowAttr\n  };\n}","map":{"version":3,"names":["React","useFluent_unstable","useFluent","ArrowDown","ArrowRight","Escape","keyCodes","ArrowUp","useArrowNavigationGroup","useFocusableGroup","useMergedTabsterAttributes_unstable","useFocusFinders","isHTMLElement","useTableCompositeNavigation","horizontalAttr","axis","gridAttr","groupperAttr","tabBehavior","findFirstFocusable","targetDocument","rowAttr","onKeyDown","useCallback","e","activeElement","currentTarget","contains","activeElementRole","getAttribute","key","_findFirstFocusable","focus","isInCell","cur","curRole","parentElement","dispatchEvent","KeyboardEvent","keyCode","onTableKeyDown","tableTabsterAttribute","tableRowTabsterAttribute"],"sources":["/Users/suketupatel/Desktop/application/frontend/node_modules/@fluentui/react-table/lib/hooks/useTableCompositeNavigation.js"],"sourcesContent":["import * as React from 'react';\nimport { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nimport { ArrowDown, ArrowRight, Escape, keyCodes, ArrowUp } from '@fluentui/keyboard-keys';\nimport { useArrowNavigationGroup, useFocusableGroup, useMergedTabsterAttributes_unstable, useFocusFinders } from '@fluentui/react-tabster';\nimport { isHTMLElement } from '@fluentui/react-utilities';\nexport function useTableCompositeNavigation() {\n    const horizontalAttr = useArrowNavigationGroup({\n        axis: 'horizontal'\n    });\n    const gridAttr = useArrowNavigationGroup({\n        axis: 'grid'\n    });\n    const groupperAttr = useFocusableGroup({\n        tabBehavior: 'limited-trap-focus'\n    });\n    const { findFirstFocusable  } = useFocusFinders();\n    const { targetDocument  } = useFluent();\n    const rowAttr = useMergedTabsterAttributes_unstable(horizontalAttr, groupperAttr);\n    const onKeyDown = React.useCallback((e)=>{\n        if (!targetDocument) {\n            return;\n        }\n        const activeElement = targetDocument.activeElement;\n        if (!activeElement || !e.currentTarget.contains(activeElement)) {\n            return;\n        }\n        const activeElementRole = activeElement.getAttribute('role');\n        // Enter groupper when in row focus mode to navigate cells\n        if (e.key === ArrowRight && activeElementRole === 'row' && isHTMLElement(activeElement)) {\n            var _findFirstFocusable;\n            (_findFirstFocusable = findFirstFocusable(activeElement)) === null || _findFirstFocusable === void 0 ? void 0 : _findFirstFocusable.focus();\n        }\n        if (activeElementRole === 'row') {\n            return;\n        }\n        const isInCell = (()=>{\n            let cur = isHTMLElement(activeElement) ? activeElement : null;\n            while(cur){\n                const curRole = cur.getAttribute('role');\n                if (curRole === 'cell' || curRole === 'gridcell') {\n                    return true;\n                }\n                cur = cur.parentElement;\n            }\n            return false;\n        })();\n        // Escape groupper focus trap before arrow down\n        if ((e.key === ArrowDown || e.key === ArrowUp) && isInCell) {\n            activeElement.dispatchEvent(new KeyboardEvent('keydown', {\n                key: Escape,\n                keyCode: keyCodes.Escape\n            }));\n            // Tabster uses keycodes\n            // eslint-disable-next-line deprecation/deprecation\n            activeElement.dispatchEvent(new KeyboardEvent('keydown', {\n                key: e.key,\n                keyCode: e.keyCode\n            }));\n        }\n    }, [\n        targetDocument,\n        findFirstFocusable\n    ]);\n    return {\n        onTableKeyDown: onKeyDown,\n        tableTabsterAttribute: gridAttr,\n        tableRowTabsterAttribute: rowAttr\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}