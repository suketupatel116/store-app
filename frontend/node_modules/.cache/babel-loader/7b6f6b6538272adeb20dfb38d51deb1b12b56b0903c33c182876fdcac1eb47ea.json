{"ast":null,"code":"import { injectDevTools } from '../devtools/injectDevTools.esm.js';\nimport { isDevToolsEnabled } from '../devtools/isDevToolsEnabled.esm.js';\nimport { debugData } from '../devtools/store.esm.js';\nimport { normalizeCSSBucketEntry } from '../runtime/utils/normalizeCSSBucketEntry.esm.js';\nimport { getStyleSheetForBucket } from './getStyleSheetForBucket.esm.js';\nimport { safeInsertRule } from './safeInsertRule.esm.js';\nlet lastIndex = 0;\n/** @internal */\nconst defaultCompareMediaQueries = (a, b) => a < b ? -1 : a > b ? 1 : 0;\n/**\r\n * Creates a new instances of a renderer.\r\n *\r\n * @public\r\n */\nfunction createDOMRenderer() {\n  let targetDocument = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : typeof document === 'undefined' ? undefined : document;\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    unstable_filterCSSRule,\n    insertionPoint,\n    styleElementAttributes,\n    compareMediaQueries = defaultCompareMediaQueries\n  } = options;\n  const renderer = {\n    insertionCache: {},\n    stylesheets: {},\n    styleElementAttributes: Object.freeze(styleElementAttributes),\n    compareMediaQueries,\n    id: `d${lastIndex++}`,\n    insertCSSRules(cssRules) {\n      // eslint-disable-next-line guard-for-in\n      for (const styleBucketName in cssRules) {\n        const cssRulesForBucket = cssRules[styleBucketName];\n        // This is a hot path in rendering styles: \".length\" is cached in \"l\" var to avoid accesses the property\n        for (let i = 0, l = cssRulesForBucket.length; i < l; i++) {\n          const [ruleCSS, metadata] = normalizeCSSBucketEntry(cssRulesForBucket[i]);\n          const sheet = getStyleSheetForBucket(styleBucketName, targetDocument, insertionPoint || null, renderer, metadata);\n          if (renderer.insertionCache[ruleCSS]) {\n            continue;\n          }\n          renderer.insertionCache[ruleCSS] = styleBucketName;\n          if (process.env.NODE_ENV !== 'production' && isDevToolsEnabled) {\n            debugData.addCSSRule(ruleCSS);\n          }\n          if (unstable_filterCSSRule) {\n            if (unstable_filterCSSRule(ruleCSS)) {\n              safeInsertRule(sheet, ruleCSS);\n            }\n          } else {\n            safeInsertRule(sheet, ruleCSS);\n          }\n        }\n      }\n    }\n  };\n  if (targetDocument && process.env.NODE_ENV !== 'production' && isDevToolsEnabled) {\n    injectDevTools(targetDocument);\n  }\n  return renderer;\n}\nexport { createDOMRenderer, defaultCompareMediaQueries };","map":{"version":3,"names":["lastIndex","defaultCompareMediaQueries","a","b","createDOMRenderer","targetDocument","arguments","length","undefined","document","options","unstable_filterCSSRule","insertionPoint","styleElementAttributes","compareMediaQueries","renderer","insertionCache","stylesheets","Object","freeze","id","insertCSSRules","cssRules","styleBucketName","cssRulesForBucket","i","l","ruleCSS","metadata","normalizeCSSBucketEntry","sheet","getStyleSheetForBucket","process","env","NODE_ENV","isDevToolsEnabled","debugData","addCSSRule","safeInsertRule","injectDevTools"],"sources":["/Users/suketupatel/Desktop/application/frontend/packages/core/src/renderer/createDOMRenderer.ts"],"sourcesContent":["import { injectDevTools, isDevToolsEnabled, debugData } from '../devtools';\nimport { normalizeCSSBucketEntry } from '../runtime/utils/normalizeCSSBucketEntry';\nimport { GriffelRenderer, StyleBucketName } from '../types';\nimport { getStyleSheetForBucket } from './getStyleSheetForBucket';\nimport { safeInsertRule } from './safeInsertRule';\n\nlet lastIndex = 0;\n\nexport interface CreateDOMRendererOptions {\n  /**\n   * If specified, a renderer will insert created style tags after this element.\n   */\n  insertionPoint?: HTMLElement;\n\n  /**\n   * A map of attributes that's passed to the generated style elements. Is useful to set \"nonce\" attribute.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce\n   */\n  styleElementAttributes?: Record<string, string>;\n\n  /**\n   * A filter run before CSS rule insertion to systematically remove CSS rules at render time.\n   * This can be used to forbid specific rules from being written to the style sheet at run time without\n   * affecting build time styles.\n   *\n   * ⚠️ Keep the filter as performant as possible to avoid negative performance impacts to your application.\n   * ⚠️ This API is unstable and can be removed from the library at any time.\n   */\n  unstable_filterCSSRule?: (cssRule: string) => boolean;\n\n  /**\n   * @param a - media query\n   * @param b - media query\n   * @returns positive number if a > b or negative number if a < b\n   */\n  compareMediaQueries?: (a: string, b: string) => number;\n}\n\n/** @internal */\nexport const defaultCompareMediaQueries = (a: string, b: string) => (a < b ? -1 : a > b ? 1 : 0);\n\n/**\n * Creates a new instances of a renderer.\n *\n * @public\n */\nexport function createDOMRenderer(\n  targetDocument: Document | undefined = typeof document === 'undefined' ? undefined : document,\n  options: CreateDOMRendererOptions = {},\n): GriffelRenderer {\n  const {\n    unstable_filterCSSRule,\n    insertionPoint,\n    styleElementAttributes,\n    compareMediaQueries = defaultCompareMediaQueries,\n  } = options;\n  const renderer: GriffelRenderer = {\n    insertionCache: {},\n    stylesheets: {},\n    styleElementAttributes: Object.freeze(styleElementAttributes),\n    compareMediaQueries,\n\n    id: `d${lastIndex++}`,\n\n    insertCSSRules(cssRules) {\n      // eslint-disable-next-line guard-for-in\n      for (const styleBucketName in cssRules) {\n        const cssRulesForBucket = cssRules[styleBucketName as StyleBucketName]!;\n\n        // This is a hot path in rendering styles: \".length\" is cached in \"l\" var to avoid accesses the property\n        for (let i = 0, l = cssRulesForBucket.length; i < l; i++) {\n          const [ruleCSS, metadata] = normalizeCSSBucketEntry(cssRulesForBucket[i]);\n          const sheet = getStyleSheetForBucket(\n            styleBucketName as StyleBucketName,\n            targetDocument,\n            insertionPoint || null,\n            renderer,\n            metadata,\n          );\n\n          if (renderer.insertionCache[ruleCSS]) {\n            continue;\n          }\n\n          renderer.insertionCache[ruleCSS] = styleBucketName as StyleBucketName;\n\n          if (process.env.NODE_ENV !== 'production' && isDevToolsEnabled) {\n            debugData.addCSSRule(ruleCSS);\n          }\n\n          if (unstable_filterCSSRule) {\n            if (unstable_filterCSSRule(ruleCSS)) {\n              safeInsertRule(sheet, ruleCSS);\n            }\n          } else {\n            safeInsertRule(sheet, ruleCSS);\n          }\n        }\n      }\n    },\n  };\n\n  if (targetDocument && process.env.NODE_ENV !== 'production' && isDevToolsEnabled) {\n    injectDevTools(targetDocument);\n  }\n\n  return renderer;\n}\n"],"mappings":";;;;;;AAMA,IAAIA,SAAS,GAAG,CAAC;AAiCjB;MACaC,0BAA0B,GAAGA,CAACC,CAAS,EAAEC,CAAS,KAAMD,CAAC,GAAGC,CAAC,GAAG,CAAC,CAAC,GAAGD,CAAC,GAAGC,CAAC,GAAG,CAAC,GAAG;AAE9F;;;;;SAKgBC,iBAAiBA,CAAA,EAEO;EAAA,IADtCC,cAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAuC,OAAOG,QAAQ,KAAK,WAAW,GAAGD,SAAS,GAAGC,QAAQ;EAAA,IAC7FC,OAAA,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAoC,EAAE;EAEtC,MAAM;IACJK,sBAAsB;IACtBC,cAAc;IACdC,sBAAsB;IACtBC,mBAAmB,GAAGb;GACvB,GAAGS,OAAO;EACX,MAAMK,QAAQ,GAAoB;IAChCC,cAAc,EAAE,EAAE;IAClBC,WAAW,EAAE,EAAE;IACfJ,sBAAsB,EAAEK,MAAM,CAACC,MAAM,CAACN,sBAAsB,CAAC;IAC7DC,mBAAmB;IAEnBM,EAAE,MAAMpB,SAAS,IAAI;IAErBqB,cAAcA,CAACC,QAAQ;;MAErB,KAAK,MAAMC,eAAe,IAAID,QAAQ,EAAE;QACtC,MAAME,iBAAiB,GAAGF,QAAQ,CAACC,eAAkC,CAAE;;QAGvE,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGF,iBAAiB,CAACjB,MAAM,EAAEkB,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;UACxD,MAAM,CAACE,OAAO,EAAEC,QAAQ,CAAC,GAAGC,uBAAuB,CAACL,iBAAiB,CAACC,CAAC,CAAC,CAAC;UACzE,MAAMK,KAAK,GAAGC,sBAAsB,CAClCR,eAAkC,EAClClB,cAAc,EACdO,cAAc,IAAI,IAAI,EACtBG,QAAQ,EACRa,QAAQ,CACT;UAED,IAAIb,QAAQ,CAACC,cAAc,CAACW,OAAO,CAAC,EAAE;YACpC;;UAGFZ,QAAQ,CAACC,cAAc,CAACW,OAAO,CAAC,GAAGJ,eAAkC;UAErE,IAAIS,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,IAAIC,iBAAiB,EAAE;YAC9DC,SAAS,CAACC,UAAU,CAACV,OAAO,CAAC;;UAG/B,IAAIhB,sBAAsB,EAAE;YAC1B,IAAIA,sBAAsB,CAACgB,OAAO,CAAC,EAAE;cACnCW,cAAc,CAACR,KAAK,EAAEH,OAAO,CAAC;;WAEjC,MAAM;YACLW,cAAc,CAACR,KAAK,EAAEH,OAAO,CAAC;;;;;GAKvC;EAED,IAAItB,cAAc,IAAI2B,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,IAAIC,iBAAiB,EAAE;IAChFI,cAAc,CAAClC,cAAc,CAAC;;EAGhC,OAAOU,QAAQ;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}