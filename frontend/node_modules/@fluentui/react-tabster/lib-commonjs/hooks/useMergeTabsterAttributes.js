"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "useMergedTabsterAttributes_unstable", {
    enumerable: true,
    get: ()=>useMergedTabsterAttributes_unstable
});
const _interopRequireWildcard = require("@swc/helpers/lib/_interop_require_wildcard.js").default;
const _react = /*#__PURE__*/ _interopRequireWildcard(require("react"));
const _tabster = require("tabster");
const useMergedTabsterAttributes_unstable = (...attributes)=>{
    const stringAttributes = attributes.map((attribute)=>attribute[_tabster.Types.TabsterAttributeName]).filter(Boolean);
    const mergedStrigAttribute = _react.useMemo(()=>{
        let attribute = stringAttributes[0];
        attributes.shift();
        for (const attr of stringAttributes){
            attribute = mergeAttributes(attribute, attr);
        }
        return attribute;
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, stringAttributes);
    return {
        [_tabster.Types.TabsterAttributeName]: mergedStrigAttribute
    };
};
function mergeAttributes(a, b) {
    if (!b) {
        return a;
    }
    let aParsed = {};
    let bParsed = {};
    if (a) {
        try {
            aParsed = JSON.parse(a);
        // eslint-disable-next-line no-empty
        } catch  {}
    }
    if (b) {
        try {
            bParsed = JSON.parse(b);
        // eslint-disable-next-line no-empty
        } catch  {}
    }
    return JSON.stringify({
        ...aParsed,
        ...bParsed
    });
}
