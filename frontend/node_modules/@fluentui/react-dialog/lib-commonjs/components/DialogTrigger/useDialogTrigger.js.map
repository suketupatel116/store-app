{"version":3,"sources":["useDialogTrigger.js"],"sourcesContent":["import * as React from 'react';\nimport { applyTriggerPropsToChildren, getTriggerChild, useEventCallback } from '@fluentui/react-utilities';\nimport { useDialogContext_unstable, useDialogSurfaceContext_unstable } from '../../contexts';\nimport { useARIAButtonProps } from '@fluentui/react-aria';\nimport { useModalAttributes } from '@fluentui/react-tabster';\n/**\n * Create the state required to render DialogTrigger.\n * Clones the only child component and adds necessary event handling behaviours to open a popup Dialog\n *\n * @param props - props from this instance of DialogTrigger\n */ export const useDialogTrigger_unstable = (props)=>{\n    const isInsideSurfaceDialog = useDialogSurfaceContext_unstable();\n    const { children , disableButtonEnhancement =false , action =isInsideSurfaceDialog ? 'close' : 'open'  } = props;\n    const child = getTriggerChild(children);\n    const requestOpenChange = useDialogContext_unstable((ctx)=>ctx.requestOpenChange);\n    const { triggerAttributes  } = useModalAttributes();\n    const handleClick = useEventCallback((event)=>{\n        var _child_props, _child_props_onClick;\n        (_child_props_onClick = (_child_props = child === null || child === void 0 ? void 0 : child.props).onClick) === null || _child_props_onClick === void 0 ? void 0 : _child_props_onClick.call(_child_props, event);\n        if (!event.isDefaultPrevented()) {\n            requestOpenChange({\n                event,\n                type: 'triggerClick',\n                open: action === 'open'\n            });\n        }\n    });\n    const triggerChildProps = {\n        ...child === null || child === void 0 ? void 0 : child.props,\n        ref: child === null || child === void 0 ? void 0 : child.ref,\n        onClick: handleClick,\n        ...triggerAttributes\n    };\n    const ariaButtonTriggerChildProps = useARIAButtonProps((child === null || child === void 0 ? void 0 : child.type) === 'button' || (child === null || child === void 0 ? void 0 : child.type) === 'a' ? child.type : 'div', {\n        ...triggerChildProps,\n        type: 'button'\n    });\n    return {\n        children: applyTriggerPropsToChildren(children, disableButtonEnhancement ? triggerChildProps : ariaButtonTriggerChildProps)\n    };\n};\n"],"names":["useDialogTrigger_unstable","props","isInsideSurfaceDialog","useDialogSurfaceContext_unstable","children","disableButtonEnhancement","action","child","getTriggerChild","requestOpenChange","useDialogContext_unstable","ctx","triggerAttributes","useModalAttributes","handleClick","useEventCallback","event","_child_props","_child_props_onClick","onClick","call","isDefaultPrevented","type","open","triggerChildProps","ref","ariaButtonTriggerChildProps","useARIAButtonProps","applyTriggerPropsToChildren"],"mappings":";;;;+BAUiBA;;aAAAA;;;6DAVM;gCACwD;0BACH;2BACzC;8BACA;AAMxB,MAAMA,4BAA4B,CAACC,QAAQ;IAClD,MAAMC,wBAAwBC,IAAAA,0CAAgC;IAC9D,MAAM,EAAEC,SAAQ,EAAGC,0BAA0B,KAAK,CAAA,EAAGC,QAAQJ,wBAAwB,UAAU,MAAM,CAAA,EAAG,GAAGD;IAC3G,MAAMM,QAAQC,IAAAA,+BAAe,EAACJ;IAC9B,MAAMK,oBAAoBC,IAAAA,mCAAyB,EAAC,CAACC,MAAMA,IAAIF,iBAAiB;IAChF,MAAM,EAAEG,kBAAiB,EAAG,GAAGC,IAAAA,gCAAkB;IACjD,MAAMC,cAAcC,IAAAA,gCAAgB,EAAC,CAACC,QAAQ;QAC1C,IAAIC,cAAcC;QACjBA,CAAAA,uBAAuB,AAACD,CAAAA,eAAeV,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMN,KAAK,AAAD,EAAGkB,OAAO,AAAD,MAAO,IAAI,IAAID,yBAAyB,KAAK,IAAI,KAAK,IAAIA,qBAAqBE,IAAI,CAACH,cAAcD,MAAM;QACjN,IAAI,CAACA,MAAMK,kBAAkB,IAAI;YAC7BZ,kBAAkB;gBACdO;gBACAM,MAAM;gBACNC,MAAMjB,WAAW;YACrB;QACJ,CAAC;IACL;IACA,MAAMkB,oBAAoB;QACtB,GAAGjB,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMN,KAAK;QAC5DwB,KAAKlB,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMkB,GAAG;QAC5DN,SAASL;QACT,GAAGF,iBAAiB;IACxB;IACA,MAAMc,8BAA8BC,IAAAA,6BAAkB,EAAC,AAACpB,CAAAA,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMe,IAAI,AAAD,MAAO,YAAY,AAACf,CAAAA,UAAU,IAAI,IAAIA,UAAU,KAAK,IAAI,KAAK,IAAIA,MAAMe,IAAI,AAAD,MAAO,MAAMf,MAAMe,IAAI,GAAG,KAAK,EAAE;QACvN,GAAGE,iBAAiB;QACpBF,MAAM;IACV;IACA,OAAO;QACHlB,UAAUwB,IAAAA,2CAA2B,EAACxB,UAAUC,2BAA2BmB,oBAAoBE,2BAA2B;IAC9H;AACJ"}