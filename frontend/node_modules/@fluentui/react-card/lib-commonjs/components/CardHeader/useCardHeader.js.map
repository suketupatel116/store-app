{"version":3,"sources":["useCardHeader.js"],"sourcesContent":["import * as React from 'react';\nimport { getNativeElementProps, resolveShorthand, useId } from '@fluentui/react-utilities';\nimport { useCardContext_unstable } from '../Card/CardContext';\nimport { cardHeaderClassNames } from './useCardHeaderStyles.styles';\n/**\n * Finds the first child of CardHeader with an id prop.\n *\n * @param header - the header prop of CardHeader\n */ function getChildWithId(header) {\n    function isReactElementWithIdProp(element) {\n        return React.isValidElement(element) && Boolean(element.props.id);\n    }\n    return React.Children.toArray(header).find(isReactElementWithIdProp);\n}\n/**\n * Returns the id to use for the CardHeader root element.\n *\n * @param headerId - the id prop of the CardHeader component\n * @param childWithId - the first child of the CardHeader component with an id prop\n * @param generatedId - a generated id\n *\n * @returns the id to use for the CardHeader root element\n */ function getReferenceId(headerId, childWithId, generatedId) {\n    if (headerId) {\n        return headerId;\n    }\n    if (childWithId === null || childWithId === void 0 ? void 0 : childWithId.props.id) {\n        return childWithId.props.id;\n    }\n    return generatedId;\n}\n/**\n * Create the state required to render CardHeader.\n *\n * The returned state can be modified with hooks such as useCardHeaderStyles_unstable,\n * before being passed to renderCardHeader_unstable.\n *\n * @param props - props from this instance of CardHeader\n * @param ref - reference to root HTMLElement of CardHeader\n */ export const useCardHeader_unstable = (props, ref)=>{\n    const { image , header , description , action  } = props;\n    const { selectableA11yProps: { referenceId , setReferenceId  }  } = useCardContext_unstable();\n    const headerRef = React.useRef(null);\n    const hasChildId = React.useRef(false);\n    const generatedId = useId(cardHeaderClassNames.header, referenceId);\n    const headerSlot = resolveShorthand(header, {\n        required: true,\n        defaultProps: {\n            ref: headerRef,\n            id: !hasChildId.current ? referenceId : undefined\n        }\n    });\n    React.useEffect(()=>{\n        var _headerRef_current;\n        const headerId = !hasChildId.current ? (_headerRef_current = headerRef.current) === null || _headerRef_current === void 0 ? void 0 : _headerRef_current.id : undefined;\n        const childWithId = getChildWithId(headerSlot === null || headerSlot === void 0 ? void 0 : headerSlot.children);\n        hasChildId.current = Boolean(childWithId);\n        setReferenceId(getReferenceId(headerId, childWithId, generatedId));\n    }, [\n        generatedId,\n        header,\n        headerSlot,\n        setReferenceId\n    ]);\n    return {\n        components: {\n            root: 'div',\n            image: 'div',\n            header: 'div',\n            description: 'div',\n            action: 'div'\n        },\n        root: getNativeElementProps('div', {\n            ref,\n            ...props\n        }),\n        image: resolveShorthand(image),\n        header: headerSlot,\n        description: resolveShorthand(description),\n        action: resolveShorthand(action)\n    };\n};\n"],"names":["useCardHeader_unstable","getChildWithId","header","isReactElementWithIdProp","element","React","isValidElement","Boolean","props","id","Children","toArray","find","getReferenceId","headerId","childWithId","generatedId","ref","image","description","action","selectableA11yProps","referenceId","setReferenceId","useCardContext_unstable","headerRef","useRef","hasChildId","useId","cardHeaderClassNames","headerSlot","resolveShorthand","required","defaultProps","current","undefined","useEffect","_headerRef_current","children","components","root","getNativeElementProps"],"mappings":";;;;+BAuCiBA;;aAAAA;;;6DAvCM;gCACwC;6BACvB;2CACH;AACrC;;;;CAIC,GAAG,SAASC,eAAeC,MAAM,EAAE;IAChC,SAASC,yBAAyBC,OAAO,EAAE;QACvC,qBAAOC,OAAMC,cAAc,CAACF,YAAYG,QAAQH,QAAQI,KAAK,CAACC,EAAE;IACpE;IACA,OAAOJ,OAAMK,QAAQ,CAACC,OAAO,CAACT,QAAQU,IAAI,CAACT;AAC/C;AACA;;;;;;;;CAQC,GAAG,SAASU,eAAeC,QAAQ,EAAEC,WAAW,EAAEC,WAAW,EAAE;IAC5D,IAAIF,UAAU;QACV,OAAOA;IACX,CAAC;IACD,IAAIC,gBAAgB,IAAI,IAAIA,gBAAgB,KAAK,IAAI,KAAK,IAAIA,YAAYP,KAAK,CAACC,EAAE,EAAE;QAChF,OAAOM,YAAYP,KAAK,CAACC,EAAE;IAC/B,CAAC;IACD,OAAOO;AACX;AASW,MAAMhB,yBAAyB,CAACQ,OAAOS,MAAM;IACpD,MAAM,EAAEC,MAAK,EAAGhB,OAAM,EAAGiB,YAAW,EAAGC,OAAM,EAAG,GAAGZ;IACnD,MAAM,EAAEa,qBAAqB,EAAEC,YAAW,EAAGC,eAAc,EAAG,CAAA,EAAG,GAAGC,IAAAA,oCAAuB;IAC3F,MAAMC,YAAYpB,OAAMqB,MAAM,CAAC,IAAI;IACnC,MAAMC,aAAatB,OAAMqB,MAAM,CAAC,KAAK;IACrC,MAAMV,cAAcY,IAAAA,qBAAK,EAACC,+CAAoB,CAAC3B,MAAM,EAAEoB;IACvD,MAAMQ,aAAaC,IAAAA,gCAAgB,EAAC7B,QAAQ;QACxC8B,UAAU,IAAI;QACdC,cAAc;YACVhB,KAAKQ;YACLhB,IAAI,CAACkB,WAAWO,OAAO,GAAGZ,cAAca,SAAS;QACrD;IACJ;IACA9B,OAAM+B,SAAS,CAAC,IAAI;QAChB,IAAIC;QACJ,MAAMvB,WAAW,CAACa,WAAWO,OAAO,GAAG,AAACG,CAAAA,qBAAqBZ,UAAUS,OAAO,AAAD,MAAO,IAAI,IAAIG,uBAAuB,KAAK,IAAI,KAAK,IAAIA,mBAAmB5B,EAAE,GAAG0B,SAAS;QACtK,MAAMpB,cAAcd,eAAe6B,eAAe,IAAI,IAAIA,eAAe,KAAK,IAAI,KAAK,IAAIA,WAAWQ,QAAQ;QAC9GX,WAAWO,OAAO,GAAG3B,QAAQQ;QAC7BQ,eAAeV,eAAeC,UAAUC,aAAaC;IACzD,GAAG;QACCA;QACAd;QACA4B;QACAP;KACH;IACD,OAAO;QACHgB,YAAY;YACRC,MAAM;YACNtB,OAAO;YACPhB,QAAQ;YACRiB,aAAa;YACbC,QAAQ;QACZ;QACAoB,MAAMC,IAAAA,qCAAqB,EAAC,OAAO;YAC/BxB;YACA,GAAGT,KAAK;QACZ;QACAU,OAAOa,IAAAA,gCAAgB,EAACb;QACxBhB,QAAQ4B;QACRX,aAAaY,IAAAA,gCAAgB,EAACZ;QAC9BC,QAAQW,IAAAA,gCAAgB,EAACX;IAC7B;AACJ"}