{"version":3,"sources":["useSwitch.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useFieldControlProps_unstable } from '@fluentui/react-field';\nimport { CircleFilled } from '@fluentui/react-icons';\nimport { Label } from '@fluentui/react-label';\nimport { useFocusWithin } from '@fluentui/react-tabster';\nimport { getPartitionedNativeProps, mergeCallbacks, resolveShorthand, useId } from '@fluentui/react-utilities';\nimport type { SwitchProps, SwitchState } from './Switch.types';\n\n/**\n * Create the state required to render Switch.\n *\n * The returned state can be modified with hooks such as useSwitchStyles_unstable,\n * before being passed to renderSwitch_unstable.\n *\n * @param props - props from this instance of Switch\n * @param ref - reference to `<input>` element of Switch\n */\nexport const useSwitch_unstable = (props: SwitchProps, ref: React.Ref<HTMLInputElement>): SwitchState => {\n  // Merge props from surrounding <Field>, if any\n  props = useFieldControlProps_unstable(props, { supportsLabelFor: true, supportsRequired: true });\n\n  const { checked, defaultChecked, disabled, labelPosition = 'after', onChange, required } = props;\n\n  const nativeProps = getPartitionedNativeProps({\n    props,\n    primarySlotTagName: 'input',\n    excludedPropNames: ['checked', 'defaultChecked', 'onChange'],\n  });\n\n  const id = useId('switch-', nativeProps.primary.id);\n\n  const root = resolveShorthand(props.root, {\n    defaultProps: { ref: useFocusWithin<HTMLDivElement>(), ...nativeProps.root },\n    required: true,\n  });\n\n  const indicator = resolveShorthand(props.indicator, {\n    defaultProps: {\n      'aria-hidden': true,\n      children: <CircleFilled />,\n    },\n    required: true,\n  });\n\n  const input = resolveShorthand(props.input, {\n    defaultProps: {\n      checked,\n      defaultChecked,\n      id,\n      ref,\n      role: 'switch',\n      type: 'checkbox',\n      ...nativeProps.primary,\n    },\n    required: true,\n  });\n  input.onChange = mergeCallbacks(input.onChange, ev => onChange?.(ev, { checked: ev.currentTarget.checked }));\n\n  const label = resolveShorthand(props.label, {\n    defaultProps: {\n      disabled,\n      htmlFor: id,\n      required,\n      size: 'medium',\n    },\n  });\n\n  return {\n    labelPosition,\n\n    //Slots definition\n    components: {\n      root: 'div',\n      indicator: 'div',\n      input: 'input',\n      label: Label,\n    },\n\n    root,\n    indicator,\n    input,\n    label,\n  };\n};\n"],"names":["React","useFieldControlProps_unstable","CircleFilled","Label","useFocusWithin","getPartitionedNativeProps","mergeCallbacks","resolveShorthand","useId","useSwitch_unstable","props","ref","supportsLabelFor","supportsRequired","checked","defaultChecked","disabled","labelPosition","onChange","required","nativeProps","primarySlotTagName","excludedPropNames","id","primary","root","defaultProps","indicator","children","input","role","type","ev","currentTarget","label","htmlFor","size","components"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,6BAA6B,QAAQ,wBAAwB;AACtE,SAASC,YAAY,QAAQ,wBAAwB;AACrD,SAASC,KAAK,QAAQ,wBAAwB;AAC9C,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,yBAAyB,EAAEC,cAAc,EAAEC,gBAAgB,EAAEC,KAAK,QAAQ,4BAA4B;AAG/G;;;;;;;;CAQC,GACD,OAAO,MAAMC,qBAAqB,CAACC,OAAoBC,MAAkD;IACvG,+CAA+C;IAC/CD,QAAQT,8BAA8BS,OAAO;QAAEE,kBAAkB,IAAI;QAAEC,kBAAkB,IAAI;IAAC;IAE9F,MAAM,EAAEC,QAAO,EAAEC,eAAc,EAAEC,SAAQ,EAAEC,eAAgB,QAAO,EAAEC,SAAQ,EAAEC,SAAQ,EAAE,GAAGT;IAE3F,MAAMU,cAAcf,0BAA0B;QAC5CK;QACAW,oBAAoB;QACpBC,mBAAmB;YAAC;YAAW;YAAkB;SAAW;IAC9D;IAEA,MAAMC,KAAKf,MAAM,WAAWY,YAAYI,OAAO,CAACD,EAAE;IAElD,MAAME,OAAOlB,iBAAiBG,MAAMe,IAAI,EAAE;QACxCC,cAAc;YAAEf,KAAKP;YAAkC,GAAGgB,YAAYK,IAAI;QAAC;QAC3EN,UAAU,IAAI;IAChB;IAEA,MAAMQ,YAAYpB,iBAAiBG,MAAMiB,SAAS,EAAE;QAClDD,cAAc;YACZ,eAAe,IAAI;YACnBE,wBAAU,oBAAC1B;QACb;QACAiB,UAAU,IAAI;IAChB;IAEA,MAAMU,QAAQtB,iBAAiBG,MAAMmB,KAAK,EAAE;QAC1CH,cAAc;YACZZ;YACAC;YACAQ;YACAZ;YACAmB,MAAM;YACNC,MAAM;YACN,GAAGX,YAAYI,OAAO;QACxB;QACAL,UAAU,IAAI;IAChB;IACAU,MAAMX,QAAQ,GAAGZ,eAAeuB,MAAMX,QAAQ,EAAEc,CAAAA;QAAMd,OAAAA,qBAAAA,sBAAAA,KAAAA,IAAAA,SAAWc,IAAI;YAAElB,SAASkB,GAAGC,aAAa,CAACnB,OAAO;QAAC;;IAEzG,MAAMoB,QAAQ3B,iBAAiBG,MAAMwB,KAAK,EAAE;QAC1CR,cAAc;YACZV;YACAmB,SAASZ;YACTJ;YACAiB,MAAM;QACR;IACF;IAEA,OAAO;QACLnB;QAEA,kBAAkB;QAClBoB,YAAY;YACVZ,MAAM;YACNE,WAAW;YACXE,OAAO;YACPK,OAAO/B;QACT;QAEAsB;QACAE;QACAE;QACAK;IACF;AACF,EAAE"}