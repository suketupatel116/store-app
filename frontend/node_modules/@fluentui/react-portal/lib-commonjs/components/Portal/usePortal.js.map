{"version":3,"sources":["usePortal.js"],"sourcesContent":["import { isHTMLElement } from '@fluentui/react-utilities';\nimport * as React from 'react';\nimport { setVirtualParent } from '../../virtualParent/index';\nimport { usePortalMountNode } from './usePortalMountNode';\nexport function toMountNodeProps(mountNode) {\n    if (isHTMLElement(mountNode)) {\n        return {\n            element: mountNode\n        };\n    }\n    if (typeof mountNode === 'object') {\n        if (mountNode === null) {\n            return {\n                element: null\n            };\n        }\n        return mountNode;\n    }\n    return {};\n}\n/**\n * Create the state required to render Portal.\n *\n * The returned state can be modified with hooks such as usePortalStyles, before being passed to renderPortal_unstable.\n *\n * @param props - props from this instance of Portal\n */ export const usePortal_unstable = (props)=>{\n    const { element , className  } = toMountNodeProps(props.mountNode);\n    const virtualParentRootRef = React.useRef(null);\n    const fallbackElement = usePortalMountNode({\n        disabled: !!element,\n        className\n    });\n    const state = {\n        children: props.children,\n        mountNode: element !== null && element !== void 0 ? element : fallbackElement,\n        virtualParentRootRef\n    };\n    React.useEffect(()=>{\n        if (state.virtualParentRootRef.current && state.mountNode) {\n            setVirtualParent(state.mountNode, state.virtualParentRootRef.current);\n        }\n        return ()=>{\n            if (state.mountNode) {\n                setVirtualParent(state.mountNode, undefined);\n            }\n        };\n    }, [\n        state.virtualParentRootRef,\n        state.mountNode\n    ]);\n    return state;\n};\n"],"names":["toMountNodeProps","usePortal_unstable","mountNode","isHTMLElement","element","props","className","virtualParentRootRef","React","useRef","fallbackElement","usePortalMountNode","disabled","state","children","useEffect","current","setVirtualParent","undefined"],"mappings":";;;;;;;;;;;IAIgBA,gBAAgB,MAAhBA;IAsBCC,kBAAkB,MAAlBA;;;gCA1Ba;6DACP;uBACU;oCACE;AAC5B,SAASD,iBAAiBE,SAAS,EAAE;IACxC,IAAIC,IAAAA,6BAAa,EAACD,YAAY;QAC1B,OAAO;YACHE,SAASF;QACb;IACJ,CAAC;IACD,IAAI,OAAOA,cAAc,UAAU;QAC/B,IAAIA,cAAc,IAAI,EAAE;YACpB,OAAO;gBACHE,SAAS,IAAI;YACjB;QACJ,CAAC;QACD,OAAOF;IACX,CAAC;IACD,OAAO,CAAC;AACZ;AAOW,MAAMD,qBAAqB,CAACI,QAAQ;IAC3C,MAAM,EAAED,QAAO,EAAGE,UAAS,EAAG,GAAGN,iBAAiBK,MAAMH,SAAS;IACjE,MAAMK,uBAAuBC,OAAMC,MAAM,CAAC,IAAI;IAC9C,MAAMC,kBAAkBC,IAAAA,sCAAkB,EAAC;QACvCC,UAAU,CAAC,CAACR;QACZE;IACJ;IACA,MAAMO,QAAQ;QACVC,UAAUT,MAAMS,QAAQ;QACxBZ,WAAWE,YAAY,IAAI,IAAIA,YAAY,KAAK,IAAIA,UAAUM,eAAe;QAC7EH;IACJ;IACAC,OAAMO,SAAS,CAAC,IAAI;QAChB,IAAIF,MAAMN,oBAAoB,CAACS,OAAO,IAAIH,MAAMX,SAAS,EAAE;YACvDe,IAAAA,uBAAgB,EAACJ,MAAMX,SAAS,EAAEW,MAAMN,oBAAoB,CAACS,OAAO;QACxE,CAAC;QACD,OAAO,IAAI;YACP,IAAIH,MAAMX,SAAS,EAAE;gBACjBe,IAAAA,uBAAgB,EAACJ,MAAMX,SAAS,EAAEgB;YACtC,CAAC;QACL;IACJ,GAAG;QACCL,MAAMN,oBAAoB;QAC1BM,MAAMX,SAAS;KAClB;IACD,OAAOW;AACX"}